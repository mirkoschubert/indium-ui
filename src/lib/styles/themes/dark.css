/**
 * Dark Theme
 *
 * Dark mode color scheme with adjusted semantic tokens.
 * Uses :where() for zero specificity, allowing users to easily override
 * theme variables with simple :root selector.
 *
 * Applied when:
 * - data-theme="dark" is explicitly set, OR
 * - System prefers dark mode AND user hasn't explicitly set light mode
 *
 * Pattern inspired by Open Props - see https://open-props.style
 *
 * Note: Variables are defined once in both selectors (unavoidable in CSS),
 * but users can override with a single :root selector thanks to :where().
 */

/* Explicit dark theme */
:where([data-theme='dark']) {
  color-scheme: dark;

  /* Text Colors */
  --color-text-primary: hsl(var(--color-gray-50));
  --color-text-secondary: hsl(var(--color-gray-300));
  --color-text-tertiary: hsl(var(--color-gray-400));
  --color-text-disabled: hsl(var(--color-gray-500));
  --color-text-inverse: hsl(var(--color-gray-900));

  /* Background Colors */
  --color-bg-page: hsl(var(--color-gray-950));
  --color-bg-surface: hsl(var(--color-gray-900));
  --color-bg-elevated: hsl(var(--color-gray-800));
  --color-bg-overlay: hsl(0 0% 0% / 0.7);

  /* Border Colors */
  --color-border: hsl(var(--color-gray-700));
  --color-border-hover: hsl(var(--color-gray-600));
  --color-border-focus: hsl(var(--color-blue-400));

  /* Action Colors - Primary */
  --color-action-primary: hsl(var(--color-blue-700));
  --color-action-primary-hover: hsl(var(--color-blue-800));
  --color-action-primary-active: hsl(var(--color-blue-900));
  --color-action-primary-disabled: hsl(var(--color-gray-700));

  /* Action Colors - Secondary */
  --color-action-secondary: hsl(var(--color-gray-600));
  --color-action-secondary-hover: hsl(var(--color-gray-700));
  --color-action-secondary-active: hsl(var(--color-gray-800));

  /* Feedback Colors */
  --color-success: hsl(var(--color-green-600));
  --color-success-bg: hsl(var(--color-green-600) / 0.1);
  --color-success-border: hsl(var(--color-green-800));

  --color-warning: hsl(var(--color-yellow-600));
  --color-warning-bg: hsl(var(--color-yellow-600) / 0.1);
  --color-warning-border: hsl(var(--color-yellow-800));

  --color-danger: hsl(var(--color-red-600));
  --color-danger-bg: hsl(var(--color-red-600) / 0.1);
  --color-danger-border: hsl(var(--color-red-800));

  --color-info: hsl(var(--color-blue-400));
  --color-info-bg: hsl(var(--color-blue-400) / 0.1);
  --color-info-border: hsl(var(--color-blue-800));

  /* Focus Ring */
  --focus-ring: 0 0 0 3px hsl(var(--color-blue-400) / 0.3);
}

/* Auto dark theme (system preference) */
@media (prefers-color-scheme: dark) {
  :where(:root:not([data-theme='light'])) {
    color-scheme: dark;

    /* Text Colors */
    --color-text-primary: hsl(var(--color-gray-50));
    --color-text-secondary: hsl(var(--color-gray-300));
    --color-text-tertiary: hsl(var(--color-gray-400));
    --color-text-disabled: hsl(var(--color-gray-500));
    --color-text-inverse: hsl(var(--color-gray-900));

    /* Background Colors */
    --color-bg-page: hsl(var(--color-gray-950));
    --color-bg-surface: hsl(var(--color-gray-900));
    --color-bg-elevated: hsl(var(--color-gray-800));
    --color-bg-overlay: hsl(0 0% 0% / 0.7);

    /* Border Colors */
    --color-border: hsl(var(--color-gray-700));
    --color-border-hover: hsl(var(--color-gray-600));
    --color-border-focus: hsl(var(--color-blue-400));

    /* Action Colors - Primary */
    --color-action-primary: hsl(var(--color-blue-700));
    --color-action-primary-hover: hsl(var(--color-blue-800));
    --color-action-primary-active: hsl(var(--color-blue-900));
    --color-action-primary-disabled: hsl(var(--color-gray-700));

    /* Action Colors - Secondary */
    --color-action-secondary: hsl(var(--color-gray-600));
    --color-action-secondary-hover: hsl(var(--color-gray-700));
    --color-action-secondary-active: hsl(var(--color-gray-800));

    /* Feedback Colors */
    --color-success: hsl(var(--color-green-600));
    --color-success-bg: hsl(var(--color-green-600) / 0.1);
    --color-success-border: hsl(var(--color-green-800));

    --color-warning: hsl(var(--color-yellow-600));
    --color-warning-bg: hsl(var(--color-yellow-600) / 0.1);
    --color-warning-border: hsl(var(--color-yellow-800));

    --color-danger: hsl(var(--color-red-600));
    --color-danger-bg: hsl(var(--color-red-600) / 0.1);
    --color-danger-border: hsl(var(--color-red-800));

    --color-info: hsl(var(--color-blue-400));
    --color-info-bg: hsl(var(--color-blue-400) / 0.1);
    --color-info-border: hsl(var(--color-blue-800));

    /* Focus Ring */
    --focus-ring: 0 0 0 3px hsl(var(--color-blue-400) / 0.3);
  }
}
